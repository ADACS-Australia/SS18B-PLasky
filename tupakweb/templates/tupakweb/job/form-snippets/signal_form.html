<form action="" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <input type="hidden" name="form-tab" value="signal"/>

    {% include 'tupakweb/job/snippets/errors.html' %}

    {% for field in signal_form %}
        <div class="row field
                    {% if field.field.required %}required{% endif %}
                    {% if field.errors %}error{% endif %}
                    div-{{ field.name }}">

            <!-- Label -->
            <label class="col-md-4 control-label" for="{{ field.auto_id }}">
                {{ field.label }}
            </label>

            <!-- Field -->
            <div class="col-md-8">
                {{ field }}
                {{ field.errors }}
            </div>

        </div>
    {% endfor %}

    <div id="div_signal_parameter_bbh">
        {% for field in signal_parameter_bbh_form %}
            <div class="row field
                        {% if field.field.required %}required{% endif %}
                        {% if field.errors %}error{% endif %}">

                <!-- Label -->
                <label class="col-md-4 control-label" for="{{ field.auto_id }}">
                    {{ field.label }}
                </label>

                <!-- Field -->
                <div class="col-md-8">
                    {{ field }}
                    {{ field.errors }}
                </div>

            </div>
        {% endfor %}
    </div>
    
    {% include 'tupakweb/job/snippets/pager-with-skip.html' %}
</form>

{% block additional_javascript %}
<script type="text/javascript">

    if ($("#id_signal-signal_choice").val() === 'binary_black_hole') {
        $("#div_signal_parameter_bbh").show();
    }

    $("#id_signal-signal_choice").change(function() {
        if ($(this).val() === 'binary_black_hole') {
            $("#div_signal_parameter_bbh").show();
        }
    });

</script>
{% endblock additional_javascript %}
